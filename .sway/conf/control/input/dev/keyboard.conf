set $keyboard_main "1:1:AT_Translated_Set_2_keyboard"

input $keyboard_main {
    xkb_layout us,ch(fr),ru(phonetic)

    # do NOT CapsLock and NumLock on startup
    xkb_capslock disabled
    xkb_numlock disabled

    # xkeyboard-specific settings {{{
    # NOTE:
    #   1.  from |$ man 7 xkeyboard-config|
    #   2.  must all be given in ONE single |xkb_options| command as a
    #   comma-separted list

    # gist:
    #   1.  |CapsLock|:
    #       a.  swap |CapsLock| and |Esc|
    #           ->  caps:swapescape
    #       b.  make |CapsLock| an extra |Esc|, essentially removing |CapsLock|
    #           ->  caps:escape
    #   2.  use |Windows|+|Space| to change layout
    #   ->  grp:win_space_toggle
    #   3.  use |<| and |>| as |shift|
    #   ->  lv2:lsgt_switch
    xkb_options \
        caps:escape,grp:win_space_toggle,lv2:lsgt_switch
    # }}}
}

# vim: filetype=swayconfig foldmethod=marker
